

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>SQL basics &mdash; MTH 448/548 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  
    <link rel="canonical" href="https://www.mth548.org/Tools/SQL/sql_basics.html" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SQL queries" href="sql_queries.html" />
    <link rel="prev" title="SQL" href="sql_toc.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../master.html" class="icon icon-home"> MTH 448/548
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Logistics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../group_assignments.html">Group Assignments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../to_do.html">Current Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../report_guide.html">Project Report Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../useful_links.html">Useful links</a></li>
</ul>
<p class="caption"><span class="caption-text">Schedule</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Schedule/week_0.html">Preliminaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Schedule/week_1.html">Week 1 (2/1-2/7)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Schedule/week_2.html">Week 2 (2/8-2/14)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Schedule/week_3.html">Week 3 (2/15-2/21)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Schedule/week_4.html">Week 4 (2/22-2/28)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Schedule/week_5.html">Week 5 (3/1-3/7)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Schedule/week_6.html">Week 6 (3/8-3/14)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Schedule/week_7.html">Week 7 (3/15-3/21)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Schedule/week_8.html">Week 8 (3/22-3/28)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Schedule/week_9.html">Week 9 (3/29-4/4)</a></li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Numpy/numpy_toc.html">Numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Pandas/pandas_toc.html">Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Seaborn/seaborn_toc.html">Seaborn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Plotly/plotly_toc.html">Plotly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requests/requests.html">Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../beautiful_soup/beautiful_soup.html">Beautiful Soup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../json/json.html">JSON</a></li>
</ul>
<p class="caption"><span class="caption-text">Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Projects/mnist_with_knn/mnist_with_knn.html">Project: Recognizing digits with k-NN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Projects/mnist_with_k_means/mnist_with_k_means.html">Project: MNIST with k-means</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Projects/baby_names/baby_names.html">Project: Baby names</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Projects/scrapping_marathon_results/scrapping_marathon_results.html">Project: Scrapping marathon results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Projects/discord_logs/discord_logs.html">Project: Discord logs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../master.html">MTH 448/548</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../master.html">MTH 448/548</a> &raquo;</li>
        
          <li><a href="sql_toc.html">SQL</a> &raquo;</li>
        
      <li>SQL basics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="SQL-basics">
<h1>SQL basics<a class="headerlink" href="#SQL-basics" title="Permalink to this headline">¶</a></h1>
<p>SQL is a programming language for working with data stored in relational databases. There are many flavors of SQL used by various database systems (MySQL, Postgres, Oracle, SQL Server etc.), but they share the same basic syntax and functionality. Here we show how to use SQL while working with databases created using SQLite software.</p>
<div class="section" id="SQL-in-Jupyter-Notebook">
<h2>SQL in Jupyter Notebook<a class="headerlink" href="#SQL-in-Jupyter-Notebook" title="Permalink to this headline">¶</a></h2>
<p>In order to execute SQL code in Jupyter Notebook, we will use the <code class="docutils literal notranslate"><span class="pre">ipython-sql</span></code> extension of the notebook. The following command, executed in a notebook, will install this extension:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">pip</span> install ipython-sql
</pre></div>
</div>
</div>
<p>Next, we need to load the extension:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span> <span class="o">%</span><span class="k">load_ext</span> sql
</pre></div>
</div>
</div>
<p>From now on, when the first line of a code cell is <code class="docutils literal notranslate"><span class="pre">%%sql</span></code>, the rest of the cell will be evaluated as an SQL (and not Python) code.</p>
</div>
<div class="section" id="Creating-tables">
<h2>Creating tables<a class="headerlink" href="#Creating-tables" title="Permalink to this headline">¶</a></h2>
<p>To access data stored in a database, we need to connect to the database first. Typically this requires connecting to a remote database server, but SQLite is special in this respect - its databases are saved in files stored locally on a computer. The command below connects to a database stored in a file <code class="docutils literal notranslate"><span class="pre">tiny.sqlite</span></code>. If such file does not exist, it will be automatically created:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="n">sqlite</span><span class="p">:</span><span class="o">///</span><span class="n">tiny</span><span class="p">.</span><span class="n">sqlite</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;Connected: @tiny.sqlite&#39;
</pre></div></div>
</div>
<p>The newly created database is empty. The code below creates in it a table named <code class="docutils literal notranslate"><span class="pre">courses</span></code> with three columns named <code class="docutils literal notranslate"><span class="pre">course_id</span></code>, <code class="docutils literal notranslate"><span class="pre">course_name</span></code>, and <code class="docutils literal notranslate"><span class="pre">credits</span></code>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">courses</span> <span class="p">(</span>
    <span class="n">course_id</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="n">course_name</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="n">credits</span> <span class="nb">INT</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>The code</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>course_id TEXT,
course_name TEXT,
credits INT
</pre></div>
</div>
<p>specifies that the columns <code class="docutils literal notranslate"><span class="pre">course_id</span></code> and <code class="docutils literal notranslate"><span class="pre">course_name</span></code> will be used to store text, and the <code class="docutils literal notranslate"><span class="pre">credits</span></code> column will contain integer values. While many database systems enforce such data type specifications, SQLite treats them merely as suggestions - e.g. it will let us store text values in the <code class="docutils literal notranslate"><span class="pre">credits</span></code> column without any problems.</p>
<p>SQL does not provide a standard way of listing tables existing in a database. However, every SQLite database contains a special table <code class="docutils literal notranslate"><span class="pre">sqlite_master</span></code> which records all database components. The code below retrieves the whole content of <code class="docutils literal notranslate"><span class="pre">sqlite_master</span></code>. It shows that the <code class="docutils literal notranslate"><span class="pre">courses</span></code> table now exists in the database:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">sqlite_master</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 * sqlite:///tiny.sqlite
Done.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table>
    <tr>
        <th>type</th>
        <th>name</th>
        <th>tbl_name</th>
        <th>rootpage</th>
        <th>sql</th>
    </tr>
    <tr>
        <td>table</td>
        <td>courses</td>
        <td>courses</td>
        <td>2</td>
        <td>CREATE TABLE courses (<br>    course_id TEXT,  <br>    course_name TEXT,<br>    credits INT)</td>
    </tr>
</table></div>
</div>
</div>
<div class="section" id="Deleting-tables">
<h2>Deleting tables<a class="headerlink" href="#Deleting-tables" title="Permalink to this headline">¶</a></h2>
<p>In order to delete a table <code class="docutils literal notranslate"><span class="pre">my_table</span></code> from a database we use the statement</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DROP TABLE  my_table;
</pre></div>
</div>
<p>This will generate an error if there is no table with the specified name:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="k">DROP</span> <span class="k">TABLE</span>  <span class="n">my_table</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 * sqlite:///tiny.sqlite
(sqlite3.OperationalError) no such table: my_table
[SQL: DROP TABLE  my_table;]
(Background on this error at: http://sqlalche.me/e/e3q8)
</pre></div></div>
</div>
<p>This error can be avoided by adding a check if the table exists prior to deleting it:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">my_table</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Creating-table-records">
<h2>Creating table records<a class="headerlink" href="#Creating-table-records" title="Permalink to this headline">¶</a></h2>
<p>The statement</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SELECT *
FROM my_table
</pre></div>
</div>
<p>retrieves all content of <code class="docutils literal notranslate"><span class="pre">my_table</span></code>. Applied to the <code class="docutils literal notranslate"><span class="pre">courses</span></code> table, it will give just column headers, since at the moment this table is empty:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">courses</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 * sqlite:///tiny.sqlite
Done.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table>
    <tr>
        <th>course_id</th>
        <th>course_name</th>
        <th>credits</th>
    </tr>
</table></div>
</div>
<p>Records can be added to a table using the syntax</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>INSERT INTO my_table (column1, column2 ,..)
VALUES (value1, value2 ,...);
</pre></div>
</div>
<p>This adds a new record to <code class="docutils literal notranslate"><span class="pre">my_table</span></code> with <code class="docutils literal notranslate"><span class="pre">value1</span></code> placed in <code class="docutils literal notranslate"><span class="pre">column1</span></code> etc.:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">courses</span> <span class="p">(</span><span class="n">course_id</span><span class="p">,</span> <span class="n">course_name</span><span class="p">,</span> <span class="n">credits</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">&#39;MTH 141&#39;</span><span class="p">,</span><span class="s1">&#39;Calculus I&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 * sqlite:///tiny.sqlite
1 rows affected.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[]
</pre></div></div>
</div>
<p>We can verify that a record has been added to the <code class="docutils literal notranslate"><span class="pre">courses</span></code> table:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">courses</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 * sqlite:///tiny.sqlite
Done.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table>
    <tr>
        <th>course_id</th>
        <th>course_name</th>
        <th>credits</th>
    </tr>
    <tr>
        <td>MTH 141</td>
        <td>Calculus I</td>
        <td>4</td>
    </tr>
</table></div>
</div>
<p>Several records can be added to a table at once:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">courses</span> <span class="p">(</span><span class="n">course_id</span><span class="p">,</span> <span class="n">course_name</span><span class="p">,</span> <span class="n">credits</span><span class="p">)</span>
<span class="k">VALUES</span>
  <span class="p">(</span><span class="s1">&#39;MTH 142&#39;</span><span class="p">,</span> <span class="s1">&#39;Calculus II&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">&#39;MTH 448&#39;</span><span class="p">,</span> <span class="s1">&#39;Data Oriented Computing&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">&#39;MTH 462&#39;</span><span class="p">,</span> <span class="s1">&#39;Topics in Analysis&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">courses</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 * sqlite:///tiny.sqlite
3 rows affected.
Done.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table>
    <tr>
        <th>course_id</th>
        <th>course_name</th>
        <th>credits</th>
    </tr>
    <tr>
        <td>MTH 141</td>
        <td>Calculus I</td>
        <td>4</td>
    </tr>
    <tr>
        <td>MTH 142</td>
        <td>Calculus II</td>
        <td>4</td>
    </tr>
    <tr>
        <td>MTH 448</td>
        <td>Data Oriented Computing</td>
        <td>3</td>
    </tr>
    <tr>
        <td>MTH 462</td>
        <td>Topics in Analysis</td>
        <td>2</td>
    </tr>
</table></div>
</div>
</div>
<div class="section" id="Modifying-records">
<h2>Modifying records<a class="headerlink" href="#Modifying-records" title="Permalink to this headline">¶</a></h2>
<p>Existing records can be modified using the statement</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>UPDATE my_table
SET
    column_1 = new_value_1,
    column_2 = new_value_2
WHERE
    condition;
</pre></div>
</div>
<p>The condition given after <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> specifies that only the records for which this condition holds true are to be changed. For example, the code below changes the number of credits of the MTH 141 course to 6:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="k">UPDATE</span> <span class="n">courses</span>
<span class="k">SET</span>
    <span class="n">credits</span> <span class="o">=</span> <span class="mi">6</span>
<span class="k">WHERE</span>
    <span class="n">course_id</span> <span class="o">=</span> <span class="s1">&#39;MTH 141&#39;</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">courses</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 * sqlite:///tiny.sqlite
1 rows affected.
Done.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table>
    <tr>
        <th>course_id</th>
        <th>course_name</th>
        <th>credits</th>
    </tr>
    <tr>
        <td>MTH 141</td>
        <td>Calculus I</td>
        <td>6</td>
    </tr>
    <tr>
        <td>MTH 142</td>
        <td>Calculus II</td>
        <td>4</td>
    </tr>
    <tr>
        <td>MTH 448</td>
        <td>Data Oriented Computing</td>
        <td>3</td>
    </tr>
    <tr>
        <td>MTH 462</td>
        <td>Topics in Analysis</td>
        <td>2</td>
    </tr>
</table></div>
</div>
</div>
<div class="section" id="Deleting-records">
<h2>Deleting records<a class="headerlink" href="#Deleting-records" title="Permalink to this headline">¶</a></h2>
<p>The statement</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DELETE FROM my_table
WHERE
    condition;
</pre></div>
</div>
<p>deletes from <code class="docutils literal notranslate"><span class="pre">my_table</span></code> all records for which the specified condition is satisfied. For example, we can use it to delete all courses with less than 4 credits from the <code class="docutils literal notranslate"><span class="pre">courses</span></code> table:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-sql notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">sql</span>
<span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">courses</span>
<span class="k">WHERE</span>
    <span class="n">credits</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">courses</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 * sqlite:///tiny.sqlite
2 rows affected.
Done.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table>
    <tr>
        <th>course_id</th>
        <th>course_name</th>
        <th>credits</th>
    </tr>
    <tr>
        <td>MTH 141</td>
        <td>Calculus I</td>
        <td>6</td>
    </tr>
    <tr>
        <td>MTH 142</td>
        <td>Calculus II</td>
        <td>4</td>
    </tr>
</table></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition note">
<p class="admonition-title fa fa-exclamation-circle">Note</p>
<p>Here are a few comments on the general SQL syntax:</p>
<ol class="arabic simple">
<li><p>Indentations and newlines in SQL code are ignored, but they can be used to increase code readability.</p></li>
<li><p>While it is customary to capitalize keywords in SQL code, this is not necessary. <code class="docutils literal notranslate"><span class="pre">select</span> <span class="pre">*</span> <span class="pre">from</span> <span class="pre">courses</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">courses</span></code>.</p></li>
<li><p>The semicolon <code class="docutils literal notranslate"><span class="pre">;</span></code> marks the end of an SQL statement and separates each statement from the next one. If we are executing only one statement, its ending semicolon can be omitted.</p></li>
<li><p>In general, names of tables, columns, and other database objects can be used without quotes. The exception from this rule are names which contain special characters (e.g. spaces) or coincide with SQL keywords. Such names must be enclosed in “double quotes”. Good practice is to avoid names which require this treatment.</p></li>
<li><p>All other strings in SQL code (data in table records etc.) must be enclosed in ‘single quotes’.</p></li>
</ol>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sql_queries.html" class="btn btn-neutral float-right" title="SQL queries" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sql_toc.html" class="btn btn-neutral float-left" title="SQL" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="width: 100px; border-width:0" src="https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg" /></a>  <a href="mailto:admin@mth548.org">Bernard Badzioch</a>
      <span class="lastupdated"><br/>
        Last updated on Mar 29, 2021.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-161474487-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>